<html><head>
  <meta name="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="author" content="Marshall Moutenot">
  <meta name="keywords" content="Marshall Moutenot, mrshll, upstream tech, climate tech" />
  <meta name="license" content="name=BY-NC-SA(4.0), url=https://creativecommons.org/licenses/by-nc-sa/4.0/" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta property="og:type" content="website" />
  <meta property="og:title" content="Scripting" />
  <link rel="stylesheet" type="text/css" href="./links/normalize.css">
  <link rel="stylesheet" type="text/css" href="./links/skeleton.css">
  <link rel="stylesheet" type="text/css" href="./links/main.css">
  <title>mrshll.com - Scripting</title>
</head>
<body><div class="content"><nav><ul><li><mark><a href="Now.html">Now</a></mark></li></ul><ul><li><a href="Log.html">Log</a></li><li><a href="Projects.html">Projects</a></li><li><mark><a href="Wiki.html">Wiki</a></mark></li><li><a href="Writing.html">Writing</a></li></ul><ul><li><a href="Aesthetic.html">Aesthetic</a></li><li><a href="Inventory.html">Inventory</a></li><li><a href="Low Tech.html">Low Tech</a></li><li><a href="Lua.html">Lua</a></li><li><a href="Organization philosophy.html">Organization philosophy</a></li><li><a href="Reading log.html">Reading log</a></li><details><summary>See all</summary><li><mark><a href="Scripting.html">Scripting</a></mark></li><li><a href="Software philosophy.html">Software philosophy</a></li><li><a href="The Middlesex Fells.html">The Middlesex Fells</a></li><li><a href="Three Sisters.html">Three Sisters</a></li><li><a href="zombiebox.html">zombiebox</a></li></details></ul><ul></ul></nav><h1>Scripting</h1>
<h2>date</h2>
<p><em>print or set the system date and time</em>
* get dates for e.g. file names : <code>date -Iminutes</code></p>

<h2>maim</h2>
<p><em>maim (make image) takes screenshots of your desktop. It has options to take only a region, and relies on another program called slop to query the user for regions using the graphical interface.</em>
* full sceenshot : <code>maim destination.png</code>
* current window screenshot : <code>maim -i (xdotool getactivewindow) destination.png</code>
* selected area screenshot : <code>maim -s destination.png</code>
* name output based on time : <code>maim (date -Iminutes).png</code>
* get color of selected pixel : <code>maim -st 0 | convert - -resize 1x1\! -format '%!!![]()()(pixel:p{0,0})' info:-</code></p>

<h2>xclip</h2>
<p><em>command line interface to X selections (clipboard)</em>
* pipe screenshot to clipboard : <code>maim -s | xclip -selection clipboard --target image/png</code>
* pipe program output to clipboard : <code>head file.txt | xclip -selection clipbaord</code></p>

<h2>tac</h2>
<p><em>reverse input line-wise</em></p>

<h2>rev</h2>
<p><em>reverse input character-wise</em></p>

<h2>Scripts</h2>

<h3>Find and replace using sed across all occurrances in a folder</h3>
<p>```bash
find . -type f -exec sed -i.txt "s/foo/bar/g" {} \;
```</p>

<h2>Rename file extension</h2>

<p>```
!#/bin/bash
for f in *.JPG;
  do mv -- "$f" "${f%.JPG}.jpg";
done
```</p>

<h2>Get paste-able filename list (used for {log} entries)</h2>
<p><code>ls -1 2021-08-*</code></p>

<h2>Migrating from .mmx to .mx</h2>
<p>Images
```bash
find . -type f -name "*.md" -exec gsed --regexp-extended -i.bak "s/!!![](]((<a href="(\S*">^</a>)?)/!![)(\3)(\1)/g" {} \;
```</p>

<p>Links
```bash
find . -type f -name "<em>.md" -exec gsed --regexp-extended -i.bak "s/{(\S</em>), (!!<img src="](" alt=""/>}/[\2)(\1)/g" {} \;
```</p>
<p style="color:#ccc"><em>Compiled 2023-1-1</em></p><footer>
  <div class='footer-row'>
    <a href="https://twitter.com/marsh">
      <img src="img/twitter.png" style="height: 1.8rem">
    </a>
    <a href="https://github.com/mrshll">
      <img src="img/github.png" style="height: 2rem">
    </a>
    <a href="https://webring.xxiivv.com/#random">
      <img src="https://webring.xxiivv.com/icon.black.svg" style="height: 2rem">
    </a>
    <div id='low-tech-webring'>
      <img src="img/lowtechwebring.png" style="height: 2rem; padding-bottom: .2rem">
      <table>
        <tbody>
          <tr>
            <td>
              <a href="https://the-system.eu.org/">←</a>
            </td>
            <td style="text-align:center;">
              <a href="https://the-system.eu.org/">The System</a>
            </td>
            <td style="text-align:center;">
              <span style="font-size:small;">
                <a href="https://emreed.net/LowTech_Directory.html">
                  <img width="80" src="https://emreed.net/LTW.bmp">
                </a>
              </span>
            </td>
            <td style="text-align:center;">
              <a href="https://whoishohokam.com/">Peter's Tech Project Page</a>
            </td>
            <td>
              <a href="https://whoishohokam.com/">→</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <span>Marshall Moutenot © 2023</span>
  </div>

  <div id='lightswitch'>
    <input type='checkbox' id='lightswitch-input' />
    <label for='lightswitch-input'></label>
  </div>

  <script>
    const toggleSwitch = document.querySelector('#lightswitch input');
    toggleSwitch.addEventListener('change', e => {
      const theme = e.target.checked ? 'dark' : 'light';
      localStorage.setItem('data-theme', theme);
      document.documentElement.setAttribute('data-theme', theme)
    });
    const theme = localStorage.getItem('data-theme') || 'dark';
    document.querySelector('#lightswitch input').checked = theme == 'dark';
    document.documentElement.setAttribute('data-theme', theme)
  </script>

</footer>
</body></html>